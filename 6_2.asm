_COUNTER DATA 030h
_FLAG BIT 00h

ORG 0000h
_RESET:
    LJMP _INIT
ORG 000Bh
_PRZERWANIE_OD_T0:
    INC _COUNTER
    MOV A,_COUNTER
    CJNE A, #40d, _ELSE
    SETB _FLAG
_ELSE:
    MOV TH0,#01011010b
    RETI
ORG 0100h
_INIT:
    MOV _COUNTER, #0d
    SETB ET0
    SETB EA
    ANL TMOD, #11110001b
    ORL TMOD, #00000001b
    MOV TL0,#0d
    MOV TH0,#01011010b
    CLR TF0
    SETB TR0
_LOOP:
    JNB _FLAG, _LOOP
    CLR _FLAG
    MOV A, _COUNTER
    SUBB A, #40d
    MOV _COUNTER, A
    CPL P1.7
    LJMP _LOOP
END
